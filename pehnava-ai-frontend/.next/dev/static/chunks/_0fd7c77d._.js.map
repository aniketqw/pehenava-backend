{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/utils/logout.ts"],"sourcesContent":["export function logoutUser() {\r\n  localStorage.removeItem(\"accessToken\");\r\n  localStorage.removeItem(\"refreshToken\");\r\n  localStorage.removeItem(\"user\");\r\n  window.location.href = \"/login\";\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/config/apiDomain.ts"],"sourcesContent":["export const API_BASE_URL = \"https://pehenava-backend.vercel.app\";    "],"names":[],"mappings":";;;;AAAO,MAAM,eAAe","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/api/postsApi.ts"],"sourcesContent":["import { API_BASE_URL } from \"@/config/apiDomain\";\r\n\r\n\r\nexport async function getAllPosts(token: string) {\r\n  const res = await fetch(`${API_BASE_URL}/api/posts`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  const data = await res.json();\r\n  if (!res.ok) throw new Error(data.message);\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,eAAe,YAAY,KAAa;IAC7C,MAAM,MAAM,MAAM,MAAM,GAAG,sIAAY,CAAC,UAAU,CAAC,EAAE;QACnD,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,OAAO;IAEzC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/api/feedbackApi.ts"],"sourcesContent":["import { API_BASE_URL } from \"@/config/apiDomain\";\r\n\r\nexport async function sendFeedback(\r\n  token: string,\r\n  postName: string,\r\n  like: boolean,\r\n  description: string\r\n) {\r\n  console.log(\"PostName --> \", postName);\r\n  const res = await fetch(`${API_BASE_URL}/api/posts/feedback`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      postName: postName,\r\n      like: like,\r\n      description: description,\r\n    }),\r\n  });\r\n\r\n  const data = await res.json();\r\n  if (!res.ok) throw new Error(data.message);\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,aACpB,KAAa,EACb,QAAgB,EAChB,IAAa,EACb,WAAmB;IAEnB,QAAQ,GAAG,CAAC,iBAAiB;IAC7B,MAAM,MAAM,MAAM,MAAM,GAAG,sIAAY,CAAC,mBAAmB,CAAC,EAAE;QAC5D,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM,KAAK,SAAS,CAAC;YACnB,UAAU;YACV,MAAM;YACN,aAAa;QACf;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,OAAO;IAEzC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/api/createPostApi.ts"],"sourcesContent":["import { API_BASE_URL } from \"@/config/apiDomain\";\r\n\r\n\r\nexport async function createPost(token: string, formData: FormData) {\r\n  const res = await fetch(`${API_BASE_URL}/api/posts`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  });\r\n\r\n  const data = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(data.message || \"Failed to create post\");\r\n  }\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,eAAe,WAAW,KAAa,EAAE,QAAkB;IAChE,MAAM,MAAM,MAAM,MAAM,GAAG,sIAAY,CAAC,UAAU,CAAC,EAAE;QACnD,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM;IACR;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;IAClC;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/home/CreatePostModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { createPost } from \"../api/createPostApi\";\r\n\r\nexport default function CreatePostCard({\r\n  onSuccess,\r\n}: {\r\n  onSuccess: () => void;\r\n}) {\r\n  const [user, setUser] = useState<any>(null);\r\n\r\n  const [description, setDescription] = useState(\"\");\r\n  const [photo, setPhoto] = useState<File | null>(null);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"user\");\r\n    if (stored) setUser(JSON.parse(stored));\r\n  }, []);\r\n\r\n  function handleImageUpload(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setPhoto(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    if (!description.trim()) {\r\n      setError(\"Write something about your post.\");\r\n      return;\r\n    }\r\n\r\n    if (!title.trim()) {\r\n      setError(\"Please enter a post title.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const token = localStorage.getItem(\"accessToken\") ?? \"\";\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", title);\r\n    formData.append(\"description\", description);\r\n    if (photo) formData.append(\"photo\", photo);\r\n\r\n    try {\r\n      await createPost(token, formData);\r\n\r\n      setDescription(\"\");\r\n      setTitle(\"\");\r\n      setPhoto(null);\r\n      setPreview(null);\r\n      setError(\"\");\r\n      onSuccess();\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function removeImage() {\r\n    setPreview(null);\r\n    setPhoto(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all p-5 mb-8\">\r\n      {/* Header Row */}\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-bold text-[#1F1F1F]\">Create a New Post</h2>\r\n\r\n        <button\r\n          onClick={handleSubmit}\r\n          disabled={loading}\r\n          className=\"px-6 py-2 bg-[#A27B5C] text-white rounded-full text-sm font-semibold hover:bg-[#926B4B]\"\r\n        >\r\n          {loading ? \"Posting...\" : \"Post\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* User Info */}\r\n      <div className=\"flex items-center gap-3 mb-4\">\r\n        <div className=\"w-12 h-12 bg-[#E8E5E1] rounded-full flex items-center justify-center text-xl font-bold\">\r\n          {user?.Name?.charAt(0)}\r\n        </div>\r\n\r\n        <div>\r\n          <p className=\"font-semibold text-[#111827]\">{user?.Name}</p>\r\n          <p className=\"text-sm text-gray-500\">{user?.role}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Post Title */}\r\n      <div className=\"mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          placeholder=\"Enter post title...\"\r\n          className=\"w-full p-3 border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-[#A27B5C]/40 outline-none flex-1 px-3 py-2 border rounded-lg text-sm\"\r\n        />\r\n      </div>\r\n\r\n      {/* Description Input */}\r\n      <textarea\r\n        placeholder=\"Share your fashion inspiration...\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n        className=\"w-full p-3 border border-gray-300 rounded-xl text-sm resize-none focus:ring-2 focus:ring-[#A27B5C]/40 outline-none flex-1 px-3 py-2 border rounded-lg text-sm\"\r\n        rows={3}\r\n      />\r\n\r\n      {/* Image Upload */}\r\n      <div className=\"mt-4 flex items-center gap-3\">\r\n        <label className=\"text-sm font-semibold\">Upload Photo (optional)</label>\r\n\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={handleImageUpload}\r\n          ref={fileInputRef}\r\n          className=\"!w-auto !block cursor-pointer\"\r\n        />\r\n      </div>\r\n\r\n      {preview && (\r\n        <div className=\"w-full mt-4\">\r\n          {/* Remove Button */}\r\n          <div className=\"flex justify-end mb-2\">\r\n            <button\r\n              onClick={removeImage}\r\n              className=\"px-3 py-1.5 bg-black/70 text-black text-xs rounded-full shadow\"\r\n            >\r\n              âœ• Remove Image\r\n            </button>\r\n          </div>\r\n\r\n          {/* Preview */}\r\n          <div className=\"relative w-full h-[300px] rounded-xl overflow-hidden border\">\r\n            <img\r\n              src={preview}\r\n              alt=\"Preview\"\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error */}\r\n      {error && <p className=\"text-red-600 text-sm mt-3\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/home/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { logoutUser } from \"../utils/logout\";\r\nimport { API_BASE_URL } from \"@/config/apiDomain\";\r\nimport { getAllPosts } from \"../api/postsApi\";\r\nimport { sendFeedback } from \"../api/feedbackApi\";\r\nimport CreatePostCard from \"./CreatePostModal\";\r\n\r\nexport default function HomeFeed() {\r\n  const [user, setUser] = useState<any>(null);\r\n  const [posts, setPosts] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\r\n  const [openSharePostId, setOpenSharePostId] = useState<string | null>(null);\r\n\r\n  const [commentInput, setCommentInput] = useState<{\r\n    [postId: string]: string;\r\n  }>({});\r\n  const [submittedFeedback, setSubmittedFeedback] = useState<{\r\n    [postId: string]: boolean;\r\n  }>({});\r\n\r\n  // Load user + posts\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const userString = localStorage.getItem(\"user\");\r\n    const token = localStorage.getItem(\"accessToken\");\r\n\r\n    if (!userString || !token) {\r\n      window.location.href = \"/login\";\r\n      return;\r\n    }\r\n\r\n    const parsedUser = JSON.parse(userString);\r\n    setUser(parsedUser);\r\n\r\n    fetchPosts(token);\r\n  }, [refreshTrigger]);\r\n\r\n  async function fetchPosts(token: string) {\r\n    try {\r\n      const data = await getAllPosts(token);\r\n      setPosts(data.posts);\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      logoutUser();\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  if (!user || loading) {\r\n    return <div className=\"p-8 text-center text-xl\">Loading posts...</div>;\r\n  }\r\n\r\n  const canShare = user.role === \"Influencer\";\r\n\r\n  // LIKE logic\r\n  async function handleLike(post: any) {\r\n    try {\r\n      const token = localStorage.getItem(\"accessToken\") ?? \"\";\r\n\r\n      const result = await sendFeedback(\r\n        token,\r\n        post.name,\r\n        true,\r\n        \"\" // no description for like\r\n      );\r\n\r\n      // Update likes count from backend\r\n      setPosts((prev) =>\r\n        prev.map((p) =>\r\n          p.postId === post.postId\r\n            ? { ...p, likesCount: result.postStats.likesCount }\r\n            : p\r\n        )\r\n      );\r\n    } catch (err: any) {\r\n      alert(err.message);\r\n    }\r\n  }\r\n\r\n  // COMMENT logic\r\n  async function addComment(post: any, text: string) {\r\n    if (!text.trim()) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"accessToken\") ?? \"\";\r\n\r\n      const result = await sendFeedback(token, post.name, false, text);\r\n\r\n      const newFeedback = {\r\n        id: result.feedback.feedbackId,\r\n        userName: user.Name,\r\n        description: result.feedback.description,\r\n      };\r\n\r\n      setPosts((prev) =>\r\n        prev.map((p) =>\r\n          p.postId === post.postId ? { ...p, feedbacks: [newFeedback] } : p\r\n        )\r\n      );\r\n\r\n      setSubmittedFeedback((prev) => ({\r\n        ...prev,\r\n        [post.postId]: true,\r\n      }));\r\n    } catch (err: any) {\r\n      alert(err.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F5F5F4] font-[Inter] px-4 py-6 relative\">\r\n      {/* Header */}\r\n      <header className=\"flex justify-between items-center mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-[#1F1F1F]\">Pehnava Feed</h1>\r\n\r\n        <button\r\n          onClick={logoutUser}\r\n          className=\"px-4 py-2 bg-[#111827] text-white rounded-lg hover:bg-black transition-all\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </header>\r\n\r\n      <div className=\"max-w-xl mx-auto\">\r\n        <CreatePostCard\r\n          onSuccess={() => setRefreshTrigger((prev) => prev + 1)}\r\n        />\r\n      </div>\r\n\r\n      {/* Posts List */}\r\n      <div className=\"flex flex-col gap-8 max-w-xl mx-auto pb-24\">\r\n        {posts.map((p: any) => {\r\n          const isRecommenderPost = p.creator.role === \"Recommender\";\r\n\r\n          return (\r\n            <div\r\n              key={p.postId}\r\n              className=\"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-all\"\r\n            >\r\n              {/* IMAGE */}\r\n              <div className=\"relative w-full h-[360px]\">\r\n                {p.photo ? (\r\n                  <Image\r\n                    src={p.photo}\r\n                    fill\r\n                    alt=\"Post\"\r\n                    className=\"object-cover\"\r\n                    unoptimized\r\n                  />\r\n                ) : (\r\n                  <div className=\"bg-gray-300 w-full h-full flex items-center justify-center\">\r\n                    <span className=\"text-gray-600\">No Image</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* CONTENT */}\r\n              <div className=\"p-5 flex flex-col\">\r\n                {/* CREATOR */}\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"w-12 h-12 bg-[#E8E5E1] rounded-full flex items-center justify-center text-xl font-bold\">\r\n                    {p.creator.Name.charAt(0)}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <p className=\"font-semibold text-[#111827]\">\r\n                      {p.creator.Name}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-500\">{p.creator.role}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* TITLE & DESCRIPTION */}\r\n                <h2 className=\"text-xl font-bold\">{p.name}</h2>\r\n                <p className=\"text-sm text-gray-700 mt-1\">{p.description}</p>\r\n\r\n                {/* LIKE + SHARE */}\r\n                <div className=\"flex justify-between items-center mt-4\">\r\n                  {/* LIKE (Disabled for Recommender posts) */}\r\n                  {!isRecommenderPost && (\r\n                    <button\r\n                      onClick={() => handleLike(p)}\r\n                      className=\"text-[#A27B5C] font-semibold hover:text-[#926B4B]\"\r\n                    >\r\n                      ðŸ¤Ž Like\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* Likes Count */}\r\n                  {!isRecommenderPost && (\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      {p.likesCount} Likes\r\n                    </span>\r\n                  )}\r\n\r\n                  {/* SHARE (Influencer only) */}\r\n                  {canShare && !isRecommenderPost && (\r\n                    <button\r\n                      onClick={() =>\r\n                        setOpenSharePostId(\r\n                          openSharePostId === p.postId ? null : p.postId\r\n                        )\r\n                      }\r\n                      className=\"text-[#A27B5C] underline hover:text-[#926B4B]\"\r\n                    >\r\n                      Share\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                {/* SHARE MENU */}\r\n                {openSharePostId === p.postId && (\r\n                  <div className=\"mt-3 bg-white border border-gray-200 rounded-xl shadow-md p-3\">\r\n                    <p className=\"text-sm font-semibold mb-2\">\r\n                      Share this post\r\n                    </p>\r\n\r\n                    <div className=\"flex flex-wrap gap-3\">\r\n                      {/* WhatsApp */}\r\n                      <button\r\n                        onClick={() =>\r\n                          window.open(\r\n                            `https://wa.me/?text=${encodeURIComponent(\r\n                              window.location.href\r\n                            )}`\r\n                          )\r\n                        }\r\n                        className=\"flex items-center gap-2 bg-green-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-green-600\"\r\n                      >\r\n                        WhatsApp\r\n                      </button>\r\n\r\n                      {/* Instagram (Copy URL) */}\r\n                      <button\r\n                        onClick={() => {\r\n                          navigator.clipboard.writeText(window.location.href);\r\n                          alert(\"Post link copied! paste it in Instagram.\");\r\n                        }}\r\n                        className=\"flex items-center gap-2 bg-pink-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-pink-600\"\r\n                      >\r\n                        Instagram\r\n                      </button>\r\n\r\n                      {/* Pinterest */}\r\n                      <button\r\n                        onClick={() =>\r\n                          window.open(\r\n                            `https://pinterest.com/pin/create/button/?url=${encodeURIComponent(\r\n                              window.location.href\r\n                            )}&media=${encodeURIComponent(p.photo || \"\")}`\r\n                          )\r\n                        }\r\n                        className=\"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-600\"\r\n                      >\r\n                        Pinterest\r\n                      </button>\r\n\r\n                      {/* Facebook */}\r\n                      <button\r\n                        onClick={() =>\r\n                          window.open(\r\n                            `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(\r\n                              window.location.href\r\n                            )}`\r\n                          )\r\n                        }\r\n                        className=\"flex items-center gap-2 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-700\"\r\n                      >\r\n                        Facebook\r\n                      </button>\r\n\r\n                      {/* Copy Link */}\r\n                      <button\r\n                        onClick={() => {\r\n                          navigator.clipboard.writeText(window.location.href);\r\n                          alert(\"Link copied!\");\r\n                        }}\r\n                        className=\"flex items-center gap-2 bg-gray-200 text-black px-3 py-2 rounded-lg text-sm hover:bg-gray-300\"\r\n                      >\r\n                        Copy Link\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* COMMENTS SECTION */}\r\n                {!isRecommenderPost && (\r\n                  <div className=\"mt-5\">\r\n                    <p className=\"font-semibold\">Comments:</p>\r\n\r\n                    {/* Existing Comments */}\r\n                    <div className=\"mt-2 space-y-2 max-h-32 overflow-y-auto\">\r\n                      {(p.feedbacks || []).map(\r\n                        (f: any, index: number) =>\r\n                          f.description && (\r\n                            <div\r\n                              key={index}\r\n                              className=\"bg-[#F7EDE2] p-2 rounded-lg text-sm\"\r\n                            >\r\n                              <strong>{f.userName}: </strong>\r\n                              {f.description}\r\n                            </div>\r\n                          )\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* COMMENT INPUT â€” hidden after submitting once */}\r\n                    {!submittedFeedback[p.postId] && (\r\n                      <div className=\"flex gap-2 mt-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Add a comment...\"\r\n                          value={commentInput[p.postId] || \"\"}\r\n                          onChange={(e) =>\r\n                            setCommentInput({\r\n                              ...commentInput,\r\n                              [p.postId]: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"flex-1 px-3 py-2 border rounded-lg text-sm\"\r\n                        />\r\n\r\n                        <button\r\n                          className=\"px-3 py-2 bg-[#111827] text-white rounded-lg\"\r\n                          onClick={() =>\r\n                            addComment(p, commentInput[p.postId] || \"\")\r\n                          }\r\n                        >\r\n                          Post\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {/* AI SUGGESTION CARD */}\r\n        <div className=\"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-all mt-4\">\r\n          <div className=\"relative w-full h-[300px]\">\r\n            <Image\r\n              src=\"/ai-fashion.jpg\"\r\n              fill\r\n              alt=\"AI Suggestions\"\r\n              className=\"object-cover\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"p-5\">\r\n            <h2 className=\"text-xl font-bold text-[#1F1F1F]\">\r\n              Didnâ€™t find what you're looking for?\r\n            </h2>\r\n\r\n            <p className=\"text-sm text-gray-700 mt-1\">\r\n              Let Pehnava AI help you discover outfits tailored to your taste.\r\n            </p>\r\n\r\n            <a\r\n              href=\"https://samplefashionrecommender-amazonurls.onrender.com/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"mt-4 inline-block px-5 py-2 bg-[#A27B5C] text-white rounded-full text-sm font-semibold hover:bg-[#926B4B]\"\r\n            >\r\n              Get AI Suggestions\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Floating Create Post */}\r\n      <button\r\n        onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n        className=\"fixed bottom-6 right-6 bg-[#A27B5C] text-white px-6 py-4 rounded-full shadow-xl hover:bg-[#926B5C]\"\r\n      >\r\n        + Create Post\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}