{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/find-my-prof/app/api/send-otp/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { Resend } from \"resend\";\r\n\r\nconst resend = new Resend(process.env.RESEND_API_KEY);\r\n\r\nexport async function POST(req: Request) {\r\n  const { email } = await req.json();\r\n\r\n  const otp = Math.floor(100000 + Math.random() * 900000).toString();\r\n\r\n  globalThis.otpStore = {\r\n    email,\r\n    otp,\r\n    expires: Date.now() + 5 * 60 * 1000,\r\n  };\r\n\r\n  try {\r\n    await resend.emails.send({\r\n      from: process.env.MAIL_FROM || \"onboarding@resend.dev\",\r\n      to: email,\r\n      subject: \"Your OTP Code\",\r\n      html: `<p>Your OTP is <strong>${otp}</strong></p>`,\r\n    });\r\n\r\n    return NextResponse.json({ success: true, message: \"OTP sent\" });\r\n  } catch (error) {\r\n    console.error(error);\r\n    return NextResponse.json({\r\n      success: false,\r\n      message: \"Failed to send email\",\r\n    });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,oJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAE7C,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;IAEhC,MAAM,MAAM,KAAK,KAAK,CAAC,SAAS,KAAK,MAAM,KAAK,QAAQ,QAAQ;IAEhE,WAAW,QAAQ,GAAG;QACpB;QACA;QACA,SAAS,KAAK,GAAG,KAAK,IAAI,KAAK;IACjC;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACvB,MAAM,QAAQ,GAAG,CAAC,SAAS,IAAI;YAC/B,IAAI;YACJ,SAAS;YACT,MAAM,CAAC,uBAAuB,EAAE,IAAI,aAAa,CAAC;QACpD;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAW;IAChE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX;IACF;AACF","debugId":null}}]
}