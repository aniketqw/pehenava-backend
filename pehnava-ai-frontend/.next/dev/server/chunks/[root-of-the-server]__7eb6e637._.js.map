{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/find-my-prof/app/api/send-otp/route.ts"],"sourcesContent":["import nodemailer from \"nodemailer\";\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const { email, otp } = await req.json();\r\n\r\n    console.log(\"Sending OTP to:\", email);\r\n\r\n    // Create transporter\r\n    const transporter = nodemailer.createTransport({\r\n      service: \"gmail\",\r\n      auth: {\r\n        user: process.env.GMAIL_USER, // your Gmail\r\n        pass: process.env.GMAIL_PASS, // your 16-char app password\r\n      },\r\n    });\r\n\r\n    // Email message\r\n    const mailOptions = {\r\n      from: process.env.GMAIL_USER,\r\n      to: email,\r\n      subject: \"Your OTP Code\",\r\n      text: `Your OTP is: ${otp}`,\r\n    };\r\n\r\n    // Send email\r\n    await transporter.sendMail(mailOptions);\r\n\r\n    return new Response(JSON.stringify({ success: true }), {\r\n      status: 200,\r\n    });\r\n  } catch (err) {\r\n    console.error(\"Email error:\", err);\r\n    return new Response(JSON.stringify({ success: false, error: String(err) }), {\r\n      status: 500,\r\n    });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,IAAI;QAErC,QAAQ,GAAG,CAAC,mBAAmB;QAE/B,qBAAqB;QACrB,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC9B;QACF;QAEA,gBAAgB;QAChB,MAAM,cAAc;YAClB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS;YACT,MAAM,CAAC,aAAa,EAAE,KAAK;QAC7B;QAEA,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAK,IAAI;YACrD,QAAQ;QACV;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;YAAO,OAAO,OAAO;QAAK,IAAI;YAC1E,QAAQ;QACV;IACF;AACF","debugId":null}}]
}