{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/find-my-prof/app/student/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function StudentLogin() {\r\n  const router = useRouter();\r\n\r\n  // ---------------------\r\n  // FORM STATE\r\n  // ---------------------\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // ---------------------\r\n  // ALERT STATE\r\n  // ---------------------\r\n  const [alert, setAlert] = useState({\r\n    type: \"\",\r\n    message: \"\",\r\n    show: false,\r\n  });\r\n\r\n  const showAlert = (type: string, message: string) => {\r\n    setAlert({ type, message, show: true });\r\n\r\n    setTimeout(() => {\r\n      setAlert({ type: \"\", message: \"\", show: false });\r\n    }, 2500);\r\n  };\r\n\r\n  // ---------------------\r\n  // SUCCESS MODAL\r\n  // ---------------------\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n  // ---------------------\r\n  // LOCAL LOGIN LOGIC\r\n  // ---------------------\r\n  const handleLogin = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    // Read student accounts\r\n    const students = JSON.parse(localStorage.getItem(\"students\") || \"[]\");\r\n\r\n    // Match email + password\r\n    const student = students.find(\r\n      (s: any) => s.email === email && s.password === password\r\n    );\r\n\r\n    if (!student) {\r\n      showAlert(\"error\", \"Invalid email or password\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Save token\r\n    sessionStorage.setItem(\"student_token\", `stud_${student.id}`);\r\n\r\n    // Show success modal\r\n    setShowSuccessModal(true);\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-blue-50 to-indigo-50 p-4 relative\">\r\n\r\n      {/* ALERT BOX */}\r\n      <div className=\"absolute top-10 w-full max-w-md mx-auto\">\r\n        {alert.show && (\r\n          <div\r\n            className={`p-3 rounded-lg flex items-center gap-2 text-white shadow-md animate-fadeIn\r\n              ${\r\n                alert.type === \"success\"\r\n                  ? \"bg-green-600\"\r\n                  : alert.type === \"error\"\r\n                  ? \"bg-red-600\"\r\n                  : \"bg-yellow-500\"\r\n              }\r\n            `}\r\n          >\r\n            {alert.type === \"success\" && <span className=\"text-xl\">✔️</span>}\r\n            {alert.type === \"error\" && <span className=\"text-xl\">❌</span>}\r\n            {alert.type === \"warning\" && <span className=\"text-xl\">⚠️</span>}\r\n            <p>{alert.message}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* SUCCESS MODAL */}\r\n      {showSuccessModal && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-black/20 z-50\">\r\n          <div className=\"bg-white rounded-xl p-8 w-[90%] max-w-md text-center shadow-xl animate-fadeIn\">\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center\">\r\n                <span className=\"text-green-600 text-5xl\">✔</span>\r\n              </div>\r\n            </div>\r\n\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\r\n              Login Successful!\r\n            </h2>\r\n\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Welcome back, Student. Redirecting to your dashboard…\r\n            </p>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setShowSuccessModal(false);\r\n                router.push(\"/student/dashboard\");\r\n              }}\r\n              className=\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700\"\r\n            >\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md\">\r\n        <h2 className=\"text-3xl font-bold text-center text-indigo-700 mb-6\">\r\n          Student Login\r\n        </h2>\r\n\r\n        <form className=\"space-y-4\" onSubmit={handleLogin}>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Student Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none\"\r\n            required\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg py-2 transition\"\r\n          >\r\n            {loading ? \"Logging in...\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"text-center text-sm text-gray-600 mt-4\">\r\n          Don’t have an account?{\" \"}\r\n          <Link\r\n            href=\"/student/register\"\r\n            className=\"text-indigo-600 hover:underline\"\r\n          >\r\n            Register\r\n          </Link>\r\n        </p>\r\n\r\n        <Link\r\n          href=\"/\"\r\n          className=\"block text-center text-sm text-indigo-500 mt-3 hover:underline\"\r\n        >\r\n          ← Back to Home\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}