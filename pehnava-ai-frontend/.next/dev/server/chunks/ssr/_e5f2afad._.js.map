{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/config/apiDomain.ts"],"sourcesContent":["export const API_BASE_URL = \"https://pehenava-backend.vercel.app\";    "],"names":[],"mappings":";;;;AAAO,MAAM,eAAe","debugId":null}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/api/createPostApi.ts"],"sourcesContent":["import { API_BASE_URL } from \"@/config/apiDomain\";\r\n\r\n\r\nexport async function createPost(token: string, formData: FormData) {\r\n  const res = await fetch(`${API_BASE_URL}/api/posts`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  });\r\n\r\n  const data = await res.json();\r\n\r\n  if (!res.ok) {\r\n    throw new Error(data.message || \"Failed to create post\");\r\n  }\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,eAAe,WAAW,KAAa,EAAE,QAAkB;IAChE,MAAM,MAAM,MAAM,MAAM,GAAG,mIAAY,CAAC,UAAU,CAAC,EAAE;QACnD,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;QACA,MAAM;IACR;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;IAClC;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/taru/FindMyProf/pehnava-ai/app/create-post/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { createPost } from \"../api/createPostApi\";\r\n\r\nexport default function CreatePostPage() {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [photo, setPhoto] = useState<File | null>(null);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem(\"user\");\r\n    const token = localStorage.getItem(\"accessToken\");\r\n\r\n    if (!user || !token) {\r\n      window.location.href = \"/login\";\r\n    }\r\n  }, []);\r\n\r\n  function handleImageUpload(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setPhoto(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  }\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    if (!name.trim() || !description.trim()) {\r\n      setError(\"Post title and description are required.\");\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem(\"accessToken\") ?? \"\";\r\n    setLoading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"description\", description);\r\n\r\n    if (photo) {\r\n      formData.append(\"photo\", photo);\r\n    }\r\n\r\n    try {\r\n      await createPost(token, formData);\r\n      alert(\"Post created successfully!\");\r\n      window.location.href = \"/home\";\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex justify-center items-start py-12 px-4 bg-[#F5F5F4] font-[Inter]\">\r\n      {/* Card Container */}\r\n      <div className=\"w-full max-w-xl bg-white rounded-2xl shadow-[0_4px_20px_rgba(0,0,0,0.08)] p-8 border border-[#e8e8e8]\">\r\n        \r\n        {/* Title */}\r\n        <h1 className=\"text-2xl font-bold mb-6 text-[#1F1F1F]\">\r\n          Create a New Post\r\n        </h1>\r\n\r\n        {error && <p className=\"text-red-600 mb-4\">{error}</p>}\r\n\r\n        <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n          \r\n          {/* Post Title */}\r\n          <div>\r\n            <label className=\"text-sm font-semibold text-[#3A3A3A]\">\r\n              Post Title\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Winter Collection 2025\"\r\n              className=\"w-full mt-1 px-4 py-3 rounded-xl border border-gray-300 focus:border-[#A27B5C] focus:ring-2 focus:ring-[#A27B5C]/30 outline-none transition-all\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"text-sm font-semibold text-[#3A3A3A]\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              placeholder=\"Describe your fashion post...\"\r\n              className=\"w-full mt-1 px-4 py-3 rounded-xl border border-gray-300 focus:border-[#A27B5C] focus:ring-2 focus:ring-[#A27B5C]/30 outline-none transition-all\"\r\n              rows={4}\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            ></textarea>\r\n          </div>\r\n\r\n          {/* Upload Photo */}\r\n          <div>\r\n            <label className=\"text-sm font-semibold text-[#3A3A3A]\">\r\n              Upload Photo (optional)\r\n            </label>\r\n\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              className=\"mt-2\"\r\n              onChange={handleImageUpload}\r\n            />\r\n\r\n            {/* Image Preview */}\r\n            {preview && (\r\n              <div className=\"mt-4 relative w-full h-64 rounded-xl overflow-hidden border border-gray-200\">\r\n                <Image\r\n                  src={preview}\r\n                  alt=\"Preview\"\r\n                  fill\r\n                  className=\"object-cover\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full py-3 rounded-xl bg-[#A27B5C] text-white text-lg font-semibold shadow-md hover:bg-[#926B4B] transition-all\"\r\n          >\r\n            {loading ? \"Posting...\" : \"Create Post\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAc;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAEtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO,aAAa,OAAO,CAAC;QAClC,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,IAAI,CAAC,QAAQ,CAAC,OAAO;YACnB,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF,GAAG,EAAE;IAEL,SAAS,kBAAkB,CAAsC;QAC/D,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,SAAS;QACT,WAAW,IAAI,eAAe,CAAC;IACjC;IAEA,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,SAAS;QAET,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI;YACvC,SAAS;YACT;QACF;QAEA,MAAM,QAAQ,aAAa,OAAO,CAAC,kBAAkB;QACrD,WAAW;QAEX,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,eAAe;QAE/B,IAAI,OAAO;YACT,SAAS,MAAM,CAAC,SAAS;QAC3B;QAEA,IAAI;YACF,MAAM,IAAA,yIAAU,EAAC,OAAO;YACxB,MAAM;YACN,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO;QACtB;QAEA,WAAW;IACb;IAEA,qBACE,8OAAC;QAAI,WAAU;kBAEb,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;oBAAG,WAAU;8BAAyC;;;;;;gBAItD,uBAAS,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAE5C,8OAAC;oBAAK,WAAU;oBAAY,UAAU;;sCAGpC,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAuC;;;;;;8CAGxD,8OAAC;oCACC,MAAK;oCACL,aAAY;oCACZ,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAK3C,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAuC;;;;;;8CAGxD,8OAAC;oCACC,aAAY;oCACZ,WAAU;oCACV,MAAM;oCACN,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAKlD,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAuC;;;;;;8CAIxD,8OAAC;oCACC,MAAK;oCACL,QAAO;oCACP,WAAU;oCACV,UAAU;;;;;;gCAIX,yBACC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,wIAAK;wCACJ,KAAK;wCACL,KAAI;wCACJ,IAAI;wCACJ,WAAU;;;;;;;;;;;;;;;;;sCAOlB,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAMtC","debugId":null}}]
}